# ExploreASL-Tools

Here are some scripts that helps in manage some pre- and post-processing from ExploreASL.
Feel free to use any of the scripts to help in your workflow!

## check_processing_status.sh
ExploreASL will include a "999_ready.status" found in the lock folder. This script will search for this status and report if any of the subject is without this status.
### Current limitations
* If subject did not begin processing in the specific module, it will fail to detect it. So, do counter check if your the subj list matches your rawdata.

Example usage: ```./check_processing_status.sh /path/to/module_locked_folder```

## find_missing_rawdata.sh
This script will help report the subj with the missing files you are looking for. For example, if you are looking for subjects with missing "\*run-1\*". This will loop through all your folders and look for the specific string indicated. You can repeat this for either the 'anat' or 'perf' folder by supplying the argument to the script. 
Example usage: ```./find_missing_rawdata.sh /path/to/rawdata anat "*filename_pattern*"```

## moving_dicoms_to_subj_root.sh
ExploreASL import relied on sourcestructure.json to detect DICOMs for conversion. As the folder hierarchy is fixed based on what was defined in sourcestructure.json, this can fail to detect subjects with different folder depths. This script will help you move your defined folders to the subj root folder.
Example: ```./moving_dicoms_to_subj_root.sh /path/to/sourcedatafolder scans```

## QC.R
This runs in R Shiny. To facilitate QC process you can provide the path to the jpegs generated by ExploreASL and conduct your QC on the Shiny's interface. This script is made to allow QC to be conducted using just your keyboards keys (1- CBF, 2- Vascular, 3- Artifact, 4- Unknown). You can also further revisit your previous image to change your gradings by using the left and right keys. Once you are ready to export, you can click export to csv and it will generate a csv file in the same folder as your images. Windows can be resized according to the size you prefer.

### Current limitations
* Avoid clicking "Load Directory" while you are grading; this *will refresh, and you will lose your progress*.
* There is no way to load previously graded files, you will need to jump in to the subj that you had previously stopped at and continue from there.
* Yet to implement a dropdown for you to select the specific image without scrolling through all subjs, but it doesn't take too long to scroll using the keys at this moment. 
